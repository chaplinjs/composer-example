{"version":3,"file":"public/javascripts/app.js","sources":["app/application.coffee","app/controllers/base/controller.coffee","app/controllers/home-controller.coffee","app/controllers/inner-controller.coffee","app/controllers/site-controller.coffee","app/initialize.coffee","app/lib/support.coffee","app/lib/utils.coffee","app/lib/view-helper.coffee","app/models/base/collection.coffee","app/models/base/model.coffee","app/routes.coffee","app/views/base/collection-view.coffee","app/views/base/view.coffee","app/views/home-page-view.coffee","app/views/info-view.coffee","app/views/inner-view.coffee","app/views/layout.coffee","app/views/templates/home-page.hbs","app/views/templates/info.hbs","app/views/templates/inner.hbs","app/views/templates/three-pane.hbs","app/views/three-pane-view.coffee"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAA,6BAAA;GAAA;kSAAA;;AAAA,CAAA,EAAS,GAAT,CAAS,OAAA;;AACT,CADA,EACS,GAAT,CAAS,CAAA;;AAGT,CAJA,EAIuB,GAAjB,CAAN;CAGE;;;;;CAAA;;CAAA,EAAO,EAAP,mBAAA;;CAAA,EAEY,IAAA,EAAC,CAAb;CACG,EAAa,CAAb,EAAD,CAAc,IAAd;CAHF,EAEY;;CAFZ;;CAHyC,MAAO;A;;;ACJlD,IAAA,qCAAA;GAAA;kSAAA;;AAAA,CAAA,EAAgB,IAAA,MAAhB,UAAgB;;AAEhB,CAFA,EAEW,IAAA,CAAX,SAAW;;AAEX,CAJA,EAIuB,GAAjB,CAAN;CACE;;;;;CAAA;;CAAA,CAAuB,CAAT,EAAA,CAAA,GAAC,GAAf;CACE,IAAA,GAAA;CAAA,CAAiB,CAAjB,CAAA,CAAsB,EAAf,GAAP;CACA,EAAG,CAAH,CAAQ,CAAR,CAAG;CACD,CAAiB,EAAhB,EAAD,CAAA,MAAA;CAAA,CACmB,CAAA,CAAlB,EAAD,CAAA,CAAA,CAAmB;CAChB,EAAW,CAAX,IAAW,OAAZ;CAAqB,CAAQ,IAAR,EAAA,EAAA;CAAA,CAAwB,EAAN,IAAlB,EAAkB;CADtB,SACL;CADd,MAAmB;CAElB,CAAkB,CAAA,CAAlB,GAAD,CAAA,CAAmB,IAAnB;CACG,EAAW,CAAX,IAAW,OAAZ;CAAqB,CAAQ,IAAR,EAAA,EAAA;CAAA,CAAwB,EAAN,IAAlB,EAAkB;CADtB,SACL;CADd,MAAmB;KANT;CAAd,EAAc;;CAAd;;CADwC,MAAO;A;;;ACJjD,IAAA,oDAAA;GAAA;kSAAA;;AAAA,CAAA,EAAa,IAAA,GAAb,mBAAa;;AACb,CADA,EACe,IAAA,KAAf,UAAe;;AACf,CAFA,EAEW,IAAA,CAAX,SAAW;;AAEX,CAJA,EAIuB,GAAjB,CAAN;CACE;;;;;CAAA;;CAAA,CAAgB,CAAT,EAAP,CAAO,GAAC;AACE,CAAR,EAAQ,CAAR,QAAA;CACC,EAAe,CAAf,IAAD,GAAA;CAAyB,CAAQ,IAAR;CAAA,CAAsB,EAAN,CAAW,CAAX;CAFpC,KAEW;CAFlB,EAAO;;CAAP;;CAD4C;A;;;ACJ9C,IAAA,kDAAA;GAAA;kSAAA;;AAAA,CAAA,EAAa,IAAA,GAAb,mBAAa;;AACb,CADA,EACW,IAAA,CAAX,SAAW;;AACX,CAFA,EAEY,IAAA,EAAZ,SAAY;;AAEZ,CAJA,EAIuB,GAAjB,CAAN;CACE;;;;;CAAA;;CAAA,EAAc,MAAA,GAAd;CACE,GAAA,KAAA,0CAAA;CACC,CAA2B,CAAA,CAA3B,GAAD,EAA4B,EAA5B,MAAA;CACG,EAAW,CAAX,KAAW,IAAZ;CAAsB,CAAQ,IAAR,EAAA,CAAA;CADI,OACd;CADd,IAA4B;CAF9B,EAAc;;CAAd,CAKgB,CAAT,EAAP,CAAO,GAAC;CACL,EAAW,CAAX,IAAW,GAAZ;CAAqB,CAAQ,IAAR,CAAA;CAAA,CAAuB,EAAN,CAAW,CAAX;CADjC,KACO;CANd,EAKO;;CALP,CAQgB,CAAT,EAAP,CAAO,GAAC;CACL,EAAW,CAAX,IAAW,GAAZ;CAAqB,CAAQ,IAAR,CAAA;CAAA,CAAuB,EAAN,CAAW,CAAX;CADjC,KACO;CATd,EAQO;;CARP;;CAD6C;A;;;ACJ/C,IAAA,sCAAA;GAAA;kSAAA;;AAAA,CAAA,EAAa,IAAA,GAAb,mBAAa;;AACb,CADA,EACW,IAAA,CAAX,SAAW;;AAEX,CAHA,EAGuB,GAAjB,CAAN;CACE;;;;;CAAA;;CAAA,CAAgB,CAAT,EAAP,CAAO,GAAC;CACL,EAAW,CAAX,IAAW,GAAZ;CAAqB,CAAQ,IAAR,GAAA;CAAA,CAAyB,EAAN,CAAW,CAAX;CADnC,KACO;CADd,EAAO;;CAAP,CAGgB,CAAT,EAAP,CAAO,GAAC;CACL,EAAW,CAAX,IAAW,GAAZ;CAAqB,CAAQ,IAAR,GAAA;CAAA,CAAyB,EAAN,CAAW,CAAX;CADnC,KACO;CAJd,EAGO;;CAHP;;CAD4C;A;;;ACH9C,IAAA,eAAA;;AAAA,CAAA,EAAc,IAAA,IAAd,EAAc;;AACd,CADA,EACS,GAAT,CAAS,CAAA;;AAGT,CAJA,EAIE,MAAA;CACgB,GAAZ,KAAA,EAAA;CAAY,CACN,EAAR,EAAA;CADc,CACoB,EAAlB,SADF,GACE;CADF,CAC8C,EAAX,CADnC,IACmC;CAFnD,GACI;CADJ;A;;;ACJF,IAAA,UAAA;;AAAA,CAAA,EAAQ,EAAR,EAAQ,IAAA;;AAMR,CANA,EAMU,EAAK,EAAf;;AAKA,CAXA,EAWiB,GAAX,CAAN;A;;;ACPA,IAAA,CAAA;;AAAA,CAAA,EAAQ,EAAR,EAAe;;AAKf,CALA,EAKiB,EALjB,CAKM,CAAN;A;;;ACDA,IAAA,cAAA;;AAAA,CAAA,CAAkC,CAAA,GAAlC,CAAkC,EAAC,CAAzB,IAAV;AACS,CAAP,CAAA,EAAG,CAA+B,EAA/B,GAAyB;CAClB,GAAR,GAAO,IAAP;IADF,EAAA;CAGU,CAAR,KAAO,IAAP;GAJ8B;CAAA;;AAOlC,CAPA,CAOqC,CAAA,IAAA,EAArC,CAAU,IAAV;CACE,KAAA,CAAA;CAAA,CAAA,CAAU,IAAV;CAAA,CACA,CAAkB,IAAX;CADP,CAEA,CAAa,IAAN;CACI,CAAwB,EAAnC,EAAkB,CAAA,EAAlB,CAAU;CAJyB;;AAOrC,CAdA,CAciC,CAAA,EAAjC,IAAiC,CAAvB,IAAV;CACE,KAAA,wBAAA;CAAA,CADgC;CACxB,CAA2B,IAAnC,CAAO,EAAP;CAD+B;;AAGjC,CAjBA,CAiBwC,CAAA,EAAA,EAAA,EAAC,CAA/B,EAAV,EAAA;CACE,GAAA,EAAA;CAAA,CAAA,CAAW,CAAX,CAAW;CACT,CAAF,CAAE,CAAI,IAAJ,CAAF,CAAqB,KAA0C;CAFzB;A;;;ACzBxC,IAAA,mBAAA;GAAA;kSAAA;;AAAA,CAAA,EAAQ,EAAR,EAAQ,YAAA;;AAER,CAFA,EAEuB,GAAjB,CAAN;CAKE;;;;;CAAA;;CAAA,EAAO,EAAP;;CAAA;;CALwC,MAAO;A;;;ACFjD,IAAA,OAAA;GAAA;kSAAA;;AAAA,CAAA,EAAuB,GAAjB,CAAN;CAAiB;;;;;CAAA;;CAAA;;CAAoB,MAAO;A;;;ACA5C,CAAO,EAAU,EAAA,CAAX,CAAN,EAAkB;CAChB,CAAA,GAAA,OAAA;CAAA,CACA,GAAA,CAAA,MAAA;CADA,CAEA,GAAA,OAAA;CAFA,CAGA,GAAA,OAAA,CAAA;CACM,CAAoB,GAA1B,IAAA,IAAA,KAAA;CALe;A;;;ACAjB,IAAA,sBAAA;GAAA;kSAAA;;AAAA,CAAA,EAAO,CAAP,GAAO,UAAA;;AAEP,CAFA,EAEuB,GAAjB,CAAN;CAGE;;;;;CAAA;;CAAA,EAAqB,CAAI,KAAE,UAA3B;;CAAA;;CAH4C,MAAO;A;;;ACFrD,IAAA,MAAA;GAAA;kSAAA;;AAAA,CAAA,MAAA,UAAA;;AAEA,CAFA,EAEuB,GAAjB,CAAN;CAEE;;;;;CAAA;;CAAA,EAAY,CAAZ,MAAA;;CAAA,EACqB,MAAA,UAArB;CACG,GAAA,OAAD;CAFF,EACqB;;CADrB;;CAFkC,MAAO;A;;;ACF3C,IAAA,8BAAA;GAAA;kSAAA;;AAAA,CAAA,EAAO,CAAP,GAAO,UAAA;;AACP,CADA,EACW,IAAA,CAAX,mBAAW;;AAEX,CAHA,EAGuB,GAAjB,CAAN;CACE;;;;;CAAA;;CAAA,CAAA,CAAI,aAAJ;;CAAA,EACQ,GAAR;;CADA,EAGE,IADF;CACE,CAAM,EAAN,kBAAA;CAHF,GAAA;;CAAA,EAIU,KAAV;;CAJA;;CAD0C;A;;;ACH5C,IAAA,0BAAA;GAAA;kSAAA;;AAAA,CAAA,EAAW,IAAA,CAAX,cAAW;;AACX,CADA,EACO,CAAP,GAAO,UAAA;;AAEP,CAHA,EAGuB,GAAjB,CAAN;CACE;;;;;CAAA;;CAAA,EAAW,MAAX,EAAA;;CAAA,EACU,KAAV;;CADA,EAGY,GAAA,GAAC,CAAb;CACE,GAAA,KAAA,iCAAA;CACC,EAAO,CAAP,EAAa,KAAd;CALF,EAGY;;CAHZ,EAOiB,MAAA,MAAjB;WACE;CAAA,CAAC,EAAC,EAAA;CAAF,CAAQ,CAAR,CAAS,EAAA;CAAT,CAAyB,CAAA,CAAI,EAAf,GAAA;CAAd,CAAqC,EAAC,EAAA;CADvB;CAPjB,EAOiB;;CAPjB;;CADsC;A;;;ACHxC,IAAA,2BAAA;GAAA;kSAAA;;AAAA,CAAA,EAAW,IAAA,CAAX,eAAW;;AACX,CADA,EACO,CAAP,GAAO,UAAA;;AAEP,CAHA,EAGuB,GAAjB,CAAN;CACE;;;;;CAAA;;CAAA,EAAW,MAAX,GAAA;;CAAA,EAEE,IADF;CACE,CAAO,EAAP,CAAA,aAAA;CAFF,GAAA;;CAAA,EAGU,KAAV;;CAHA;;CADuC;A;;;ACHzC,IAAA,QAAA;GAAA;kSAAA;;AAAA,CAAA,EAAuB,GAAjB,CAAN;CACE;;;;;CAAA;;CAAA,EACE,GADF;CACE,CAAgC,EAAhC,MAAA,oBAAA;CADF,GAAA;;CAAA,EAIE,IADF;CACE,CAAM,EAAN;CAJF,GAAA;;CAAA,CAOuB,CAAb,EAAA,CAAA,EAAV,CAAW,CAAD;CACR,GAAA,IAAA;OAAA,KAAA;CAAA,EAAO,CAAP,CAAY;CACD,EAAA,MAAA,CAAX,CAAA;CACE,SAAA,KAAA;CAAA,EAAQ,EAAR,CAAA,cAAQ;CAAR,IAEK,CAAL,EAAA,GAAA;CAFA,EAGc,CAAA,CAAQ,CAAtB,EAAA,KAAW,QAGR,kFAHQ;CAIV,IAAA,GAAD,KAAA;CARF,CASE,GATS;CATb,EAOU;;CAPV;;CADoC,MAAO;A;;ACA7C;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAXA;;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAvBA;;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAdA;;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AApBA;;A;ACAA,IAAA,+BAAA;GAAA;kSAAA;;AAAA,CAAA,EAAO,CAAP,GAAO,UAAA;;AACP,CADA,EACW,IAAA,CAAX,oBAAW;;AAGX,CAJA,EAIuB,GAAjB,CAAN;CACE;;;;;CAAA;;CAAA,CAAA,CAAI,cAAJ;;CAAA,EACQ,GAAR;;CADA,EAGE,IADF;CACE,CAAQ,EAAR,EAAA,aAAA;CAAA,CACS,EAAT,GAAA,GADA;CAAA,CAEQ,EAAR,EAAA,aAFA;CAHF,GAAA;;CAAA,EAMU,KAAV;;CANA;;CAD2C;A","sourcesContent":["Layout = require 'views/layout'\nroutes = require 'routes'\n\n# The application object.\nmodule.exports = class Application extends Chaplin.Application\n  # Set your application name here so the document title is set to\n  # “Controller title – Site title” (see Chaplin.Layout#adjustTitle)\n  title: 'Composing with Chaplin'\n\n  initLayout: (options) ->\n    @layout = new Layout options\n","ThreePaneView = require 'views/three-pane-view'\n# ContentView = require 'views/content-view'\nInfoView = require 'views/info-view'\n\nmodule.exports = class Controller extends Chaplin.Controller\n  beforeAction: (params, route) ->\n    console.log 121, route.controller\n    if route.controller in ['inner', 'site']\n      @compose 'site', ThreePaneView\n      @compose 'header', ->\n        @view = new InfoView region: 'header', name: 'header'\n      @compose 'footer', ->\n        @view = new InfoView region: 'footer', name: 'footer'\n","Controller = require 'controllers/base/controller'\nHomePageView = require 'views/home-page-view'\nInfoView = require 'views/info-view'\n\nmodule.exports = class HomeController extends Controller\n  index: (params, route) ->\n    @view = new HomePageView\n    @infoView = new InfoView region: 'info', name: route.name\n","Controller = require 'controllers/base/controller'\nInfoView = require 'views/info-view'\nInnerView = require 'views/inner-view'\n\nmodule.exports = class InnerController extends Controller\n  beforeAction: ->\n    super\n    @compose 'inner-container', ->\n      @view = new InnerView region: 'content'\n\n  index: (params, route) ->\n    @view = new InfoView region: 'inner', name: route.name\n\n  other: (params, route) ->\n    @view = new InfoView region: 'inner', name: route.name\n","Controller = require 'controllers/base/controller'\nInfoView = require 'views/info-view'\n\nmodule.exports = class SiteController extends Controller\n  index: (params, route) ->\n    @view = new InfoView region: 'content', name: route.name\n\n  other: (params, route) ->\n    @view = new InfoView region: 'content', name: route.name\n","Application = require 'application'\nroutes = require 'routes'\n\n# Initialize the application on DOM ready event.\n$ ->\n  new Application {\n    routes: routes, controllerSuffix: '-controller', pushState: false\n  }\n","utils = require 'lib/utils'\n\n# Application-specific feature detection\n# --------------------------------------\n\n# Delegate to Chaplin’s support module\nsupport = utils.beget Chaplin.support\n\n# _(support).extend\n  # someMethod: ->\n\nmodule.exports = support\n","# Application-specific utilities\n# ------------------------------\n\n# Delegate to Chaplin’s utils module\nutils = Chaplin.utils.beget Chaplin.utils\n\n# _(utils).extend\n#  someMethod: ->\n\nmodule.exports = utils\n","# Application-specific view helpers\n# http://handlebarsjs.com/#helpers\n# --------------------------------\n\n# Map helpers\n# -----------\n\n# Make 'with' behave a little more mustachey.\nHandlebars.registerHelper 'with', (context, options) ->\n  if not context or Handlebars.Utils.isEmpty context\n    options.inverse(this)\n  else\n    options.fn(context)\n\n# Inverse for 'with'.\nHandlebars.registerHelper 'without', (context, options) ->\n  inverse = options.inverse\n  options.inverse = options.fn\n  options.fn = inverse\n  Handlebars.helpers.with.call(this, context, options)\n\n# Get Chaplin-declared named routes. {{#url \"like\" \"105\"}}{{/url}}\nHandlebars.registerHelper 'url', (routeName, params..., options) ->\n  Chaplin.helpers.reverse routeName, params\n\nHandlebars.registerHelper 'formatDate', (param, options) ->\n  date = new Date(param)\n  \"#{date.getHours()}:#{date.getMinutes()}:#{date.getSeconds()}.#{date.getMilliseconds()}\"\n","Model = require 'models/base/model'\n\nmodule.exports = class Collection extends Chaplin.Collection\n  # Mixin a synchronization state machine\n  # _(@prototype).extend Chaplin.SyncMachine\n\n  # Use the project base model per default, not Chaplin.Model\n  model: Model\n","module.exports = class Model extends Chaplin.Model\n  # Mixin a synchronization state machine\n  # _(@prototype).extend Chaplin.SyncMachine\n","module.exports = (match) ->\n  match '', 'home#index'\n  match 'site', 'site#index'\n  match 'site/other', 'site#other'\n  match 'site/inner', 'inner#index'\n  match 'site/inner/other', 'inner#other'\n","View = require 'views/base/view'\n\nmodule.exports = class CollectionView extends Chaplin.CollectionView\n  # This class doesn’t inherit from the application-specific View class,\n  # so we need to borrow the method from the View prototype:\n  getTemplateFunction: View::getTemplateFunction\n","require 'lib/view-helper' # Just load the view helpers, no return value\n\nmodule.exports = class View extends Chaplin.View\n  # Precompiled templates function initializer.\n  autoRender: true\n  getTemplateFunction: ->\n    @template\n","View = require 'views/base/view'\ntemplate = require 'views/templates/home-page'\n\nmodule.exports = class HomePageView extends View\n  id: 'home-page-view'\n  region: 'main'\n  regions:\n    info: '#item-view-container'\n  template: template\n","template = require 'views/templates/info'\nView = require 'views/base/view'\n\nmodule.exports = class InfoView extends View\n  className: 'info-view'\n  template: template\n\n  initialize: (params) ->\n    super\n    @name = params.name\n\n  getTemplateData: ->\n    {@name, @cid, timestamp: Date.now(), @region}\n","template = require 'views/templates/inner'\nView = require 'views/base/view'\n\nmodule.exports = class InnerView extends View\n  className: 'inner-view'\n  regions:\n    inner: '#inner-container'\n  template: template\n","module.exports = class Layout extends Chaplin.Layout\n  listen:\n    'dispatcher:dispatch mediator': 'navigate'\n\n  regions:\n    main: ''\n\n  # Toggles nav links based on current route name.\n  navigate: (controller, params, route) ->\n    name = route.name\n    setTimeout =>\n      elems = @$('nav > a[data-name]')\n      # debugger\n      elems.removeClass 'active'\n      selector = if name is 'inner#other'\n        \"#content-container > nav > a[data-name='inner#index'], .inner-view > nav > a[data-name='inner#other']\"\n      else\n        \"nav > a[data-name='#{name}']\"\n      @$(selector).addClass 'active'\n    , 25\n","<div class=\"page-header\">\n  <h1>Composing <small>with <strong>Chaplin</strong></small></h1>\n</div>\n<p>\n  <a href=\"#{{url \"site#index\"}}\" class=\"btn btn-inverse btn-large\">\n    <strong>Explore</strong>\n  </a>\n</p>\n<div id=\"item-view-container\"></div>\n","<h3>{{name}}</h3>\n<dl>\n  <dt>cid</dt>\n  <dd><code>{{cid}}</code></dd>\n\n  <dt>timestamp</dt>\n  <dd><code>{{formatDate timestamp}}</code></dd>\n\n  <dt>region</dt>\n  <dd><code>{{region}}</code></dd>\n</dl>\n","<nav>\n  <h3>Inner</h3>\n  <a data-name=\"inner#index\" href=\"#{{url \"inner#index\"}}\">Index</a>\n  <a data-name=\"inner#other\" href=\"#{{url \"inner#other\"}}\">Other</a>\n</nav>\n<div id=\"inner-container\"></div>\n","<div id=\"header-container\">\n  <a href=\"#{{url \"home#index\"}}\"><strong>Return</strong></a>\n  <header id=\"header\"></header>\n</div>\n<div id=\"content-container\">\n  <nav>\n    <h2>Content</h2>\n    <a data-name=\"site#index\" href=\"#{{url \"site#index\"}}\">Index</a>\n    <a data-name=\"site#other\" href=\"#{{url \"site#other\"}}\">Other</a>\n    <a data-name=\"inner#index\" href=\"#{{url \"inner#index\"}}\">Inner</a>\n  </nav>\n  <section id=\"content\"></section>\n</div>\n<div id=\"footer-container\">\n  <footer id=\"footer\"></footer>\n</div>\n","View = require 'views/base/view'\ntemplate = require 'views/templates/three-pane'\n\n# Site view is a top-level view which is bound to body.\nmodule.exports = class ThreePaneView extends View\n  id: 'three-pane-view'\n  region: 'main'\n  regions:\n    header: '#header-container'\n    content: '#content'\n    footer: '#footer-container'\n  template: template\n"]}